# logs/forward_to_loki

The `logs/forward_to_loki` module is an example module which exports logs
from a log file to a loki endpoint.

## Usage

```river
module.git "forward_to_loki" {
	repository = "https://github.com/erikbaranowski/developer-toolkit.git"
	revision   = "main"
	path       = "grafana/agent/config/logs/forward_to_loki/module.river"

	arguments {
		filepath = FILEPATH
		url      = URL
	}
}

```

## Module arguments

The following arguments are supported when passing arguments to the module
loader:

| Name | Type | Description | Default | Required
| ---- | ---- | ----------- | ------- | --------
| `filepath` | `string` | The local filepath for the logs. | | yes
| `url`      | `string` | The target loki url to forward logs to. | | yes

## Module exports

This module does not export anything.

## Example

This example demonstrates how you can send all logs generated by the Grafana
Agent to a loki endpoint.

*Grafana Agent logs must be forwarded to the file at LOG_FILEPATH*

```river
module.git "logs_forward_to_loki" {
	repository = "https://github.com/erikbaranowski/developer-toolkit.git"
	revision   = "main"
	path       = "grafana/agent/config/logs/forward_to_loki/module.river"

	arguments {
		filepath = env("LOG_FILEPATH")
		url      = env("URL")
	}
}

```
