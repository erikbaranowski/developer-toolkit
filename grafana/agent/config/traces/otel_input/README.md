# traces/otelexporter

The `traces/otel_input` module is an example module which exports an otel trace
input. That input will run the traces through the default
`otelcol.processor.batch` settings and then forward them on to the provided
target url.

## Usage

```river
module.git "otel_input" {
  repository = "https://github.com/erikbaranowski/developer-toolkit.git"
  revision   = "main"
  path       = "grafana/agent/config/traces/otel_input/module.river"

  arguments {
    username = USERNAME
    password = PASSWORD
    url      = URL
  }
}
```

## Module arguments

The following arguments are supported when passing arguments to the module
loader:

| Name | Type | Description | Default | Required
| ---- | ---- | ----------- | ------- | --------
| `username` | `string` | The username for otelcol.auth.basic authentication. | | yes
| `password` | `string` | The password for otelcol.auth.basic authentication. | | yes
| `url`      | `string` | The target url to forward traces to. | | yes

## Module exports

The following fields are exported by the module:

| Name | Type | Description
| ---- | ---- | -----------
| `input` | `otelcol.Consumer` | A value that other components can use to sendtelemetry data to.

## Example

This example demonstrates how you can send all traces generated by the Grafana
Agent to a trace endpoint.

```river
tracing {
	sampling_fraction = 1
	write_to          = [module.file.otel_input.exports.input]
}

module.git "otel_input" {
	repository = "https://github.com/erikbaranowski/developer-toolkit.git"
  revision   = "main"
  path       = "grafana/agent/config/traces/otel_input/module.river"

	arguments {
		username = env("TRACE_USERNAME")
		password = env("TRACE_PASSWORD")
		url      = env("TRACE_URL")
	}
}

```
