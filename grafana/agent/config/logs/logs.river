/********************************************
 * ARGUMENTS
 ********************************************/

/********************************************
 * EXPORTS
 ********************************************/

/********************************************
 * SOURCES
 ********************************************/
// Scrape a local file for logs
module.file "loki_source_file" {
	filename  = env("AGENT_CONFIG_FOLDER") + "/logs/sources/loki_source_file.river"
	arguments = {
		loki_receiver = loki.write.default.receiver,
	}
}

/********************************************
 * LOG EXPORTER
 ********************************************/
loki.write "default" {
	endpoint {
		url = env("LOKI_URL")
	}
}
